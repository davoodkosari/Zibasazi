@using Radyn.Congress.Tools
@using Radyn.Web.Mvc;
@using Radyn.WebApp.AppCode.Security
@using Radyn.WebApp.Areas.Congress.Tools
@using Radyn.WebApp.Areas.FormGenerator.Tools
@model IEnumerable<ModelView.UserCardModel>
    @{
        ViewBag.Title = Resources.Congress.CardsandCertificates;
        Layout = "~/Views/Shared/_Layout.cshtml";
    }
    @section Head{
        <script type="text/javascript">

            function PrintCardList() {
                ShowPostBackLoader();
                $.post("@Url.Content("~/Congress/ReportPanel/PrintCardList")", $('form[action^="@Url.Content("~/Congress/ReportPanel/UserCards")"]').serialize(), function (data) {
                    if (data != "false") {
                         window.open('@Url.Content("~/ReportBuilder/ReportView")');
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }

            function PrintMiniCardList() {
                ShowPostBackLoader();
                $.post("@Url.Content("~/Congress/ReportPanel/PrintMiniCardList")", $('form[action^="@Url.Content("~/Congress/ReportPanel/UserCards")"]').serialize(), function (data) {
                    if (data != "false") {
                         window.open('@Url.Content("~/ReportBuilder/ReportView")');
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }

            function PrintUserInfoCardList() {
                ShowPostBackLoader();
                $.post("@Url.Content("~/Congress/ReportPanel/PrintUserInfoCardList")", $('form[action^="@Url.Content("~/Congress/ReportPanel/UserCards")"]').serialize(), function (data) {
                    if (data != "false") {
                         window.open('@Url.Content("~/ReportBuilder/ReportView")');
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }



            function PrintCongressCerificateList() {
                ShowPostBackLoader();
                $.post("@Url.Content("~/Congress/ReportPanel/PrintCongressCertificateList")", $('form[action^="@Url.Content("~/Congress/ReportPanel/UserCards")"]').serialize(), function (data) {
                    if (data != "false") {
                         window.open('@Url.Content("~/ReportBuilder/ReportView")');
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }
            function SearchUser() {
                ShowPostBackLoader();
                $.post("@Url.Content("~/Congress/ReportPanel/SearchUserCards")", $('form[action^="@Url.Content("~/Congress/ReportPanel/UserCards")"]').serialize(), function (data) {
                    if (data != "false") {
                        $("#DivResultUser").html(data).slideDown("slow");;
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }

            function DesginMiniCard() {
                ShowPostBackLoader();
                $.get("@Url.Content("~/Congress/ReportPanel/DesginMiniCard")", { date: new Date().getTime() }, function (data) {
                    if (data.Result != false) {
                        window.open("@Url.Content("~/ReportBuilder/ReportDesign?DataMethod=PreaperReport")&DataMethodParamets=" + data.ReportId + "&UpdateMethod=UpdateReport&UpdateParametrs=" + data.ReportId);
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }



            function DesginCard() {
                ShowPostBackLoader();
                $.get("@Url.Content("~/Congress/ReportPanel/DesginCard")", { date: new Date().getTime() }, function (data) {
                    if (data.Result != false) {
                        window.open("@Url.Content("~/ReportBuilder/ReportDesign?DataMethod=PreaperReport")&DataMethodParamets=" + data.ReportId + "&UpdateMethod=UpdateReport&UpdateParametrs=" + data.ReportId);
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }
            function DesginCertificate() {
                ShowPostBackLoader();
                $.get("@Url.Content("~/Congress/ReportPanel/DesginCongressCertifite")", { date: new Date().getTime() }, function (data) {
                    if (data.Result != false) {
                        window.open("@Url.Content("~/ReportBuilder/ReportDesign?DataMethod=PreaperReport")&DataMethodParamets=" + data.ReportId + "&UpdateMethod=UpdateReport&UpdateParametrs=" + data.ReportId);
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });
            }

            function DesginUserInfoCard() {
                ShowPostBackLoader();
                $.get("@Url.Content("~/Congress/ReportPanel/DsignUserInfoCard")", { date: new Date().getTime() }, function (data) {
                    if (data.Result != false) {
                        window.open("@Url.Content("~/ReportBuilder/ReportDesign?DataMethod=PreaperReport")&DataMethodParamets=" + data.ReportId + "&UpdateMethod=UpdateReport&UpdateParametrs=" + data.ReportId);
                    }
                    ShowRadynMessage();
                }).complete(function () {
                    HidePostBackLoader();
                });

            }





        </script>
    }
    @section PageTitle
{
        @Resources.Congress.CardsandCertificates

    }
    @section PageAction
{
        <div class="button-div m-btn waves-purple i-card-address" id="DivDesignCard">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.Card).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginCard()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-purple i-user" id="DivDesignUserInfoCard">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.User).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginUserInfoCard()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-purple i-card-alt" id="DivDesignMiniCard">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.DesignUserMiniCard).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginMiniCard()" }).Render(); }
        </div>

        <div class="button-div m-btn waves-purple i-user-circle" id="DivDesignCertificate">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.Certificate).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/certificate-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginCertificate()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivCardPrint">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.Card).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintCardList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivUserInfoCardPrint">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.User).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintUserInfoCardList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivCardMiniPrint">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.PrintUserMiniCardList).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintMiniCardList()" }).Render(); }
        </div>

        <div class="button-div m-btn waves-blue i-print" id="DivCetificatePrint">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.CongressCertificate).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/printer-certificate.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintCongressCerificateList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-red i-return">
            @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/ManagmentPanel/ReportResetFactory")).Text(@Resources.Congress.ReportResetFactory).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}
        </div>
        <div class="button-div m-btn waves-red i-return">
            @{Html.Radyn().ImageActionLink().Text(Resources.Common.Return).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "window.location='/Security/User/Menu?oid=" + Radyn.Common.Constants.OperationId.CongressOperationId + "'" }).Render(); }
        </div>
    }
    @section PageActionDown
{
        <div class="button-div m-btn waves-purple i-card-address" id="DivDesignCard1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.Card).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginCard()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-purple i-user" id="DivDesignUserInfoCard1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.User).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginUserInfoCard()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-purple i-card-alt" id="DivDesignMiniCard1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.DesignUserMiniCard).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginMiniCard()" }).Render(); }
        </div>

        <div class="button-div m-btn waves-purple i-user-circle" id="DivDesignCertificate1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.Certificate).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/certificate-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginCertificate()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivCardPrint1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.Card).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintCardList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivUserInfoCardPrint1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.User).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintUserInfoCardList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivCardMiniPrint1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.PrintUserMiniCardList).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/card-print.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintMiniCardList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-blue i-print" id="DivCetificatePrint1">
            @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.CongressCertificate).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/printer-certificate.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintCongressCerificateList()" }).Render(); }
        </div>
        <div class="button-div m-btn waves-red i-return">
            @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/ManagmentPanel/ReportResetFactory")).Text(@Resources.Congress.ReportResetFactory).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}
        </div>
        <div class="button-div m-btn waves-red i-return">
            @{Html.Radyn().ImageActionLink().Text(Resources.Common.Return).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "window.location='/Security/User/Menu?oid=" + Radyn.Common.Constants.OperationId.CongressOperationId + "'" }).Render(); }
        </div>
    }
    @using (Html.BeginForm())
    {
        <div class="radynForm">
            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @Resources.Congress.User
                    </div>
                </div>
                <div class="table-row-item table-fit ">
                    <div class="item">
                        @Html.TextBox("txtSearch", (object)ViewBag.txtSearch, new { })
                    </div>
                </div>

            </div>


            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @Resources.Congress.Status
                    </div>
                </div>
                <div class="table-row-item">
                    <div class="item">
                        @Html.DropDownList("SearchStatus", new SelectList(ViewBag.status, "Key", "Value"), "" + Resources.Congress.All + "")
                    </div>
                </div>
            </div>
            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @string.Format(Resources.Congress.ArticleType, SessionParameters.CurrentCongress.Configuration.ArticleTitle)
                    </div>
                </div>
                <div class="table-row-item">
                    <div class="item">
                        @Html.DropDownList("ArticleTypeId", new SelectList(ViewBag.ArticleTypes, "Key", "Value"), "" + Resources.Congress.All + "")
                    </div>
                </div>

            </div>

            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @Resources.EnterPriseNode.Gender
                    </div>
                </div>
                <div class="table-row-item">
                    <div class="item">
                        @Html.DropDownList("Gender", new SelectList(ViewBag.gender, "Key", "Value"), "" + Resources.Congress.All + "")
                    </div>
                </div>
            </div>


            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @Resources.Congress.PaymentType
                    </div>
                </div>
                <div class="table-row-item">
                    <div class="item">
                        @Html.DropDownList("PaymentTypeId", new SelectList(ViewBag.PaymentType, "Key", "Value"), "" + Resources.Congress.All + "")
                    </div>
                </div>

            </div>
            <div class="item-row">
                <div class="table-row-cap">
                    <div class="item">
                        @Resources.Congress.RegisterDate
                    </div>
                </div>
                <div class="table-row-item">
                    <div class="item date-picker">
                        @{Html.Radyn().PersianDateTimePicker().Name("RegisterDate").ID("RegisterDate").Render(); }
                    </div>
                </div>
            </div>
            <div class="item-row">
                <div class="button-div m-btn waves-blue i-search" id="DivSearch">
                    @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Search).Align(ImageActionLink.Alignment.Right).ImageUrl(Url.Content("~/Content/Images/search_button.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "SearchUser()" }).Render(); }
                </div>
            </div>






            <div class="fit item-row">
                @{
                    Html.FormReportGenerator(AppExtention.CongressMoudelName + "-/Congress/Userpanel/Complete");
                }
            </div>

            <div class="fit item-row" id="DivResultUser">
            </div>

        </div>
    }
