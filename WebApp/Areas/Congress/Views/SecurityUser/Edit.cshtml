@using Radyn.Utility
@using Radyn.Web.Mvc;
@model Radyn.Security.DataStructure.User
@{
    ViewBag.Title = Resources.Security.UserName + " " + Resources.Common.New;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section PageTitle
{
    @Resources.Security.UserName @Resources.Common.New

}
@section Head{
    <script type="text/javascript">
        function EditUser() {
            $.post("@Url.Content("~/Congress/SecurityUser/Edit")", $('form[action^="@Url.Content("~/Congress/SecurityUser/Edit")"]').serialize(), function (data) {
                if (data != "false") {
                    ShowRadynMessage();

                }
            });
            ShowRadynMessage();
        }
        $(function() {
            $("#DivItem").html("");
            $.get("@Url.Content("~/Security/User/GetModify")", { Id: '@ViewBag.Id', date: new Date().getTime() }, function (data) {
                $("#DivItem").html(data).hide();
                $("#DivItem").slideDown();
            });
        });
        
    </script>
}

@section PageAction
{
    <div class="button-div m-btn waves-green i-save">
        @{Html.Radyn().ImageActionLink().ImageUrl(Url.Content("~/Content/Images/Save.png")).Text(Resources.Common.Save).ImageWidth("15").Callback().CallbackType(ImageActionLink.CallbackType.post).CallbackReturnFunction(" function (data){if(data!='false') {EditUser();} else {ShowRadynMessage();} } ").NavigateUrl(Url.Content("~/Congress/SecurityUser/Validate")).Serialize(Url.Content("~/Congress/SecurityUser/Edit"), false).Render(); }

    </div>
    <div class="button-div m-btn waves-red i-return">
        @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/SecurityUser/Index")).Text(Resources.Common.Return).Align(Resources.Common.Aligment.ToEnum<ImageActionLink.Alignment>()).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}

    </div>
}
@section PageActionDown
{
    <div class="button-div m-btn waves-green i-save">
        @{Html.Radyn().ImageActionLink().ImageUrl(Url.Content("~/Content/Images/Save.png")).Text(Resources.Common.Save).ImageWidth("15").Callback().CallbackType(ImageActionLink.CallbackType.post).CallbackReturnFunction(" function (data){if(data!='false') {EditUser();} else {ShowRadynMessage();} } ").NavigateUrl(Url.Content("~/Congress/SecurityUser/Validate")).Serialize(Url.Content("~/Congress/SecurityUser/Edit"), false).Render(); }
    </div>
    <div class="button-div m-btn waves-red i-return">
        @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/SecurityUser/Index")).Text(Resources.Common.Return).Align(Resources.Common.Aligment.ToEnum<ImageActionLink.Alignment>()).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}

    </div>
}
<div class="radynForm">
    @using (Html.BeginForm())
    {
        @Html.ValidationSummary(true)
        <input type="hidden" value="@ViewBag.homaId" id="homaId" name="homaId" />
        <div id="DivItem"></div>
        const int column = 3;

        var couter = -1;
        foreach (var keyValuePair in (Dictionary<Radyn.Congress.DataStructure.Homa, bool>)ViewBag.CongressList)
        {
            couter++;
            if (couter % column == 0)
            {
            }


            <div class="table-row-cap width30percent">
                <div class="item">
                    <div style="float: right">
                        @{Html.Radyn().CheckBox().Checked(keyValuePair.Value).Name("SelectedCongress").Value(keyValuePair.Key.Id.ToString()).Render(); }

                    </div>
                    <div style="float: right">@keyValuePair.Key.CongressTitle</div>
                </div>
            </div>



        }


    }



</div>