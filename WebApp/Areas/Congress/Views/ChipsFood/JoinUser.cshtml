@using Radyn.Congress.Tools
@using Radyn.Web.Mvc;
@using Radyn.WebApp.Areas.Congress.Tools
@using Radyn.WebApp.Areas.FormGenerator.Tools
@{
    ViewBag.Title = Resources.Congress.ChipFood;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Head{
    <script type="text/javascript">
    function PrintChipFoodList() {
        $("#DivChipFoodList").hide();
        $("#DivChipFoodList1").hide();
        $("#divSearchload").show();
        $.post("@Url.Content("~/Congress/ReportPanel/PrintChipFoodList")", $('form[action^="@Url.Content("~/Congress/ChipsFood/JoinUser")"]').serialize(), function (data) {
            if (data != "false") {
                 window.open('@Url.Content("~/ReportBuilder/ReportView")');
            }
            ShowRadynMessage();
        }).complete(function () {
            $("#DivChipFoodList").show();
            $("#DivChipFoodList1").show();
            $("#divSearchload").hide();
        });
    }
    function DesginChipFood() {
        $("#DivDesignChipFood").hide();
        $("#DivDesignChipFood1").hide();
        $("#divSearchload").show();
        $.get("@Url.Content("~/Congress/ReportPanel/DesginChipFoodCard")", { date: new Date().getTime() }, function (data) {
            if (data.Result != false) {
                window.open("@Url.Content("~/ReportBuilder/ReportDesign?DataMethod=PreaperReport")&DataMethodParamets=" + data.ReportId + "&UpdateMethod=UpdateReport&UpdateParametrs=" + data.ReportId);
            }
            ShowRadynMessage();
        }).complete(function () {
            $("#DivDesignChipFood").show();
            $("#DivDesignChipFood1").show();
            $("#divSearchload").hide();
        });
    }
    function SearchUser() {
        $("#DivSearch").hide();
        $("#divSearchload").show();
        $("#DivResultUser").html();
        $.post("@Url.Content("~/Congress/ChipsFood/SearchUserFoods")", $('form[action^="@Url.Content("~/Congress/ChipsFood/JoinUser")"]').serialize(), function (data) {
            if (data != "false") {
                $("#DivResultUser").html(data).slideDown("slow");
            }
            ShowRadynMessage();
        }).complete(function () {
            $("#DivSearch").show();
            $("#divSearchload").hide();
        });
    }
    function GetAllChipFoods() {
        $("#DivSearch").hide();
        $("#divSearchload").show();
        $("#DivResultUser").html();
        $.get("@Url.Content("~/Congress/ChipsFood/GetAllChipFoods")", { Id: '@ViewBag.Id', date: new Date().getTime() }, function (data) {
            if (data != "false") {
                $("#DivResultUser").html(data).slideDown("slow");
            }
            ShowRadynMessage();
        }).complete(function () {
            $("#DivSearch").show();
            $("#divSearchload").hide();
        });
    }
    function GetAll() {
        $("#DivSearch").hide();
        $("#divSearchload").show();
        $("#DivResultUser").html();
        $.post("@Url.Content("~/Congress/ChipsFood/SearchUserFoods")", $('form[action^="@Url.Content("~/Congress/ChipsFood/JoinUser")"]').serialize(), function (data) {
            if (data != "false") {
                $("#DivResultUser").html(data).slideDown("slow");
            }
            ShowRadynMessage();
        }).complete(function () {
            $("#DivSearch").show();
            $("#divSearchload").hide();
        });
    }
    $(document).ready(function () {


        GetAllChipFoods();

    });

    </script>
}
@section PageTitle
{
    @Resources.Congress.ChipFood

}
@section PageAction
{
    <div class="button-div m-btn waves-green i-save">
        @{Html.Radyn().ImageActionLink().Text(Resources.Common.Save).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/Save.png")).ImagePosition(ImageActionLink.Position.Right).Submit().ImageWidth("15").Render();}
    </div>
    <div class="button-div" id="DivDesignChipFood">
        @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.ChipFood).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/certificate-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginChipFood()" }).Render(); }
    </div>
    <div class="button-div" id="DivChipFoodList">
        @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.ChipFood).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/printer-certificate.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintChipFoodList()" }).Render(); }
    </div>
    <div class="button-div m-btn waves-red i-return">
        @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/ChipsFood/Index")).Text(Resources.Common.Return).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}
    </div>
}
@section PageActionDown
{
    <div class="button-div m-btn waves-green i-save">
        @{Html.Radyn().ImageActionLink().Text(Resources.Common.Save).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/Save.png")).ImagePosition(ImageActionLink.Position.Right).Submit().ImageWidth("15").Render();}
    </div>
    <div class="button-div" id="DivDesignChipFood1">
        @{Html.Radyn().ImageActionLink().Text(@Resources.Congress.Design + " " + @Resources.Congress.ChipFood).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/certificate-design.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "DesginChipFood()" }).Render(); }
    </div>
    <div class="button-div" id="DivChipFoodList1">
        @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Print + " " + @Resources.Congress.ChipFood).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/printer-certificate.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "PrintChipFoodList()" }).Render(); }
    </div>
    <div class="button-div m-btn waves-red i-return">
        @{Html.Radyn().ImageActionLink().NavigateUrl(Url.Content("~/Congress/ChipsFood/Index")).Text(Resources.Common.Return).Align(ImageActionLink.Alignment.Left).ImageUrl(Url.Content("~/Content/Images/go-back.png")).ImagePosition(ImageActionLink.Position.Right).Render();}
    </div>
}
@using (Html.BeginForm())
{
    <input type="hidden" value="@ViewBag.Id" name="chipFoodId" id="chipFoodId" />
    <div class="radynForm">
        <div class="item-row fit">
            <div class="table-row-cap">
                <div class="item">
                    @Resources.Congress.User
                </div>
            </div>
            <div class="table-row-item table-fit ">
                <div class="item">
                    @Html.TextBox("txtSearch", (object)ViewBag.txtSearch, new { })
                </div>
            </div>
        </div>
        <div class="fit">
            <div class="table-row-item width98percent">
                <div class="item">
                    <div class="width13percent page-align">
                        @Resources.Congress.Status
                    </div>
                    <div class="width18percent page-align" style="margin-left: 5px">
                        @Html.DropDownList("SearchStatus", new SelectList(ViewBag.status, "Key", "Value"), "")
                    </div>
                    <div class="width13percent page-align">
                        @Resources.EnterPriseNode.Gender
                    </div>
                    <div class="width18percent page-align" style="margin-left: 5px">
                        @Html.DropDownList("Gender", new SelectList(ViewBag.gender, "Key", "Value"), "")
                    </div>

                </div>
            </div>
        </div>
        <div class="fit">
            <div class="table-row-item width98percent">
                <div class="item">
                    <div class="width13percent page-align">
                        @Resources.Congress.PaymentType
                    </div>
                    <div class="width18percent page-align" style="margin-left: 5px">
                        @Html.DropDownList("PaymentTypeId", new SelectList(ViewBag.PaymentType, "Id", "Title"), "")
                    </div>
                    <div class="width13percent page-align">
                        @Resources.Congress.RegisterDate
                    </div>
                    <div class="width18percent page-align" style="margin-left: 5px">
                        @{Html.Radyn().PersianDateTimePicker().Name("RegisterDate").ID("RegisterDate").Render(); }
                    </div>
                    <div class="width13percent page-align" id="DivSearch">
                        @{Html.Radyn().ImageActionLink().Text(@Resources.Common.Search).Align(ImageActionLink.Alignment.Right).ImageUrl(Url.Content("~/Content/Images/search_button.png")).ImagePosition(ImageActionLink.Position.Right).OtherAttribute(new { onclick = "SearchUser()" }).Render(); }
                    </div>
                </div>
            </div>
        </div>
        <div>
            @{
                Html.FormReportGenerator(AppExtention.CongressMoudelName + "-/Congress/Userpanel/Complete");
            }
        </div>

        <div class="fit" id="DivResultUser">
        </div>

    </div>
}
